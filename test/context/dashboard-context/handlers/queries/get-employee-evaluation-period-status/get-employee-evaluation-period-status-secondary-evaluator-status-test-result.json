{
  "timestamp": "2025-11-17T15:07:12.375Z",
  "testResults": [
    {
      "testName": "상태 1: none - 평가할 WBS가 없으면 secondary.status는 none이어야 한다",
      "result": {
        "status": "none",
        "evaluators": [
          {
            "evaluatorName": "2차평가자1",
            "status": "none",
            "assignedWbsCount": 0,
            "completedEvaluationCount": 0,
            "isSubmitted": false
          }
        ]
      }
    },
    {
      "testName": "상태 2: none - 2차 평가자가 있지만 하향평가가 하나도 없으면 secondary.status는 none이어야 한다",
      "result": {
        "status": "none",
        "evaluators": [
          {
            "evaluatorName": "2차평가자1",
            "status": "none",
            "assignedWbsCount": 2,
            "completedEvaluationCount": 0,
            "isSubmitted": false
          }
        ]
      }
    },
    {
      "testName": "상태 3: in_progress - 일부만 완료되었으면 secondary.status는 in_progress이어야 한다",
      "result": {
        "status": "in_progress",
        "evaluators": [
          {
            "evaluatorName": "2차평가자1",
            "status": "in_progress",
            "assignedWbsCount": 2,
            "completedEvaluationCount": 1,
            "isSubmitted": false
          }
        ]
      }
    },
    {
      "testName": "상태 4: pending - 모든 평가가 완료되었지만 승인 대기 중이면 secondary.status는 pending이어야 한다",
      "result": {
        "status": "pending",
        "evaluators": [
          {
            "evaluatorName": "2차평가자1",
            "status": "pending",
            "assignedWbsCount": 2,
            "completedEvaluationCount": 2,
            "isSubmitted": true
          }
        ],
        "totalScore": 82.5,
        "grade": "B"
      }
    },
    {
      "testName": "상태 5: approved - 모든 평가가 완료되고 승인되었으면 secondary.status는 approved이어야 한다",
      "result": {
        "status": "approved",
        "evaluators": [
          {
            "evaluatorName": "2차평가자1",
            "status": "approved",
            "assignedWbsCount": 2,
            "completedEvaluationCount": 2,
            "isSubmitted": true
          }
        ],
        "totalScore": 82.5,
        "grade": "B",
        "stepApprovalStatus": "approved",
        "approvedBy": "00000000-0000-0000-0000-000000000001",
        "approvedAt": "2025-11-17T15:07:10.885Z"
      }
    },
    {
      "testName": "상태 6: revision_requested - 재작성 요청되었으면 secondary.status는 revision_requested이어야 한다",
      "result": {
        "status": "revision_requested",
        "evaluators": [
          {
            "evaluatorName": "2차평가자1",
            "status": "revision_requested",
            "assignedWbsCount": 2,
            "completedEvaluationCount": 2,
            "isSubmitted": true
          }
        ],
        "totalScore": 82.5,
        "grade": "B"
      }
    },
    {
      "testName": "상태 7: revision_completed - 재작성 완료되었으면 secondary.status는 revision_completed이어야 한다",
      "result": {
        "status": "revision_completed",
        "evaluators": [
          {
            "evaluatorName": "2차평가자1",
            "status": "revision_completed",
            "assignedWbsCount": 2,
            "completedEvaluationCount": 2,
            "isSubmitted": true
          }
        ],
        "totalScore": 82.5,
        "grade": "B"
      }
    },
    {
      "testName": "상태 8: 여러 평가자 상태 통합 - 모든 평가자가 approved이면 전체 상태는 approved이어야 한다",
      "result": {
        "status": "approved",
        "evaluators": [
          {
            "evaluatorName": "2차평가자1",
            "status": "approved",
            "assignedWbsCount": 2,
            "completedEvaluationCount": 2,
            "isSubmitted": true
          },
          {
            "evaluatorName": "2차평가자2",
            "status": "approved",
            "assignedWbsCount": 2,
            "completedEvaluationCount": 2,
            "isSubmitted": true
          }
        ],
        "isSubmitted": true,
        "totalScore": 87.5,
        "grade": "B"
      }
    },
    {
      "testName": "상태 9: 여러 평가자 혼합 상태 - pending + approved 혼합이면 전체 상태는 pending이어야 한다",
      "result": {
        "status": "pending",
        "evaluators": [
          {
            "evaluatorName": "2차평가자1",
            "status": "pending",
            "assignedWbsCount": 2,
            "completedEvaluationCount": 2,
            "isSubmitted": true
          },
          {
            "evaluatorName": "2차평가자2",
            "status": "approved",
            "assignedWbsCount": 2,
            "completedEvaluationCount": 2,
            "isSubmitted": true
          }
        ]
      }
    },
    {
      "testName": "상태 10: 여러 평가자 혼합 상태 - revision_requested + approved 혼합이면 전체 상태는 revision_requested이어야 한다 (최우선)",
      "result": {
        "status": "revision_requested",
        "evaluators": [
          {
            "evaluatorName": "2차평가자1",
            "status": "revision_requested",
            "assignedWbsCount": 2,
            "completedEvaluationCount": 2,
            "isSubmitted": true
          },
          {
            "evaluatorName": "2차평가자2",
            "status": "approved",
            "assignedWbsCount": 2,
            "completedEvaluationCount": 2,
            "isSubmitted": true
          }
        ]
      }
    },
    {
      "testName": "상태 11: 여러 평가자 혼합 상태 - revision_completed + pending 혼합이면 전체 상태는 revision_completed이어야 한다",
      "result": {
        "status": "revision_completed",
        "evaluators": [
          {
            "evaluatorName": "2차평가자1",
            "status": "revision_completed",
            "assignedWbsCount": 2,
            "completedEvaluationCount": 2,
            "isSubmitted": true
          },
          {
            "evaluatorName": "2차평가자2",
            "status": "pending",
            "assignedWbsCount": 2,
            "completedEvaluationCount": 2,
            "isSubmitted": true
          }
        ]
      }
    },
    {
      "testName": "상태 12: 여러 평가자 혼합 상태 - in_progress + pending 혼합이면 전체 상태는 pending이어야 한다",
      "result": {
        "status": "pending",
        "evaluators": [
          {
            "evaluatorName": "2차평가자1",
            "status": "in_progress",
            "assignedWbsCount": 2,
            "completedEvaluationCount": 1,
            "isSubmitted": false
          },
          {
            "evaluatorName": "2차평가자2",
            "status": "pending",
            "assignedWbsCount": 2,
            "completedEvaluationCount": 2,
            "isSubmitted": true
          }
        ]
      }
    },
    {
      "testName": "상태 13: 여러 평가자 혼합 상태 - revision_requested + revision_completed 혼합이면 전체 상태는 revision_completed이어야 한다",
      "result": {
        "status": "revision_completed",
        "evaluators": [
          {
            "evaluatorName": "2차평가자1",
            "status": "revision_requested",
            "assignedWbsCount": 0,
            "completedEvaluationCount": 2,
            "isSubmitted": false
          },
          {
            "evaluatorName": "2차평가자2",
            "status": "revision_completed",
            "assignedWbsCount": 0,
            "completedEvaluationCount": 2,
            "isSubmitted": false
          }
        ]
      }
    },
    {
      "testName": "각 2차 평가자에게 할당된 WBS 수량이 정확하게 계산되어야 한다",
      "result": {
        "totalWbsCount": 4,
        "evaluators": [
          {
            "evaluatorName": "2차평가자1",
            "evaluatorId": "66c91f7f-f9df-4eea-ab58-be02abb351cc",
            "assignedWbsCount": 2,
            "completedEvaluationCount": 0,
            "isSubmitted": false
          },
          {
            "evaluatorName": "2차평가자2",
            "evaluatorId": "846027c4-d759-4e1d-ba35-f3be50abae0c",
            "assignedWbsCount": 2,
            "completedEvaluationCount": 0,
            "isSubmitted": false
          }
        ]
      }
    },
    {
      "testName": "2차 평가자에게 할당된 WBS가 없으면 assignedWbsCount는 0이어야 한다",
      "result": {
        "evaluators": [
          {
            "evaluatorName": "2차평가자1",
            "evaluatorId": "745a690c-76f9-4ca9-a605-cd1157a72c20",
            "assignedWbsCount": 1,
            "status": "none"
          },
          {
            "evaluatorName": "2차평가자2",
            "evaluatorId": "4d244bb8-6932-4be0-a9f6-73eaad4d2e06",
            "assignedWbsCount": 0,
            "status": "none"
          }
        ]
      }
    },
    {
      "testName": "여러 2차 평가자가 같은 WBS를 평가하는 경우 각자의 assignedWbsCount가 정확해야 한다",
      "result": {
        "totalWbsCount": 2,
        "evaluators": [
          {
            "evaluatorName": "2차평가자1",
            "evaluatorId": "eaedfc3e-696e-4a08-99f4-b9b9484eb7b8",
            "assignedWbsCount": 2,
            "completedEvaluationCount": 0
          },
          {
            "evaluatorName": "2차평가자2",
            "evaluatorId": "f8a446dc-83af-4506-934a-2740f03c600e",
            "assignedWbsCount": 1,
            "completedEvaluationCount": 0
          }
        ]
      }
    }
  ]
}